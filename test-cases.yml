---
- summary: |
    Проверка добавления товара в корзину
  requirement: |
    Пользователь должен иметь возможность добавлять товары в корзину
  prerequisites:
    Открыта карточка товара
  test-data: |
    Товар = "Red Lipstick" Количество = 1
  steps:
    - Нажать "Добавить в корзину"
    - Перейти в корзину
  expected-result: |
    В корзине отображается "Red Lipstick" в количестве 1 шт.

- summary: |
    Проверка успешного оформления заказа
  requirement: |
    Пользователь должен иметь возможность оформлять заказ
  prerequisites:
    В корзине лежит товар "Red Lipstick"
  test-data: |
    Товар = "Red Lipstick" Количество = 1
  steps:
    - Перейти в корзину
    - Нажать "Оформить заказ"
  expected-result: |
    Отображается сообщение "Заказ успешно оформлен"

- summary: |
    Проверка сохранения корзины после обновления страницы
  requirement: |
    Корзина не должна сбрасываться после обновления страницы
  prerequisites:
    Открыта главная страница
  test-data: |
    Обновление страницы (F5)
  steps:
    - Добавить в корзину товар "Red Lipstick"
    - Перейти в корзину
    - Обновить страницу
  expected-result: |
    Товар "Red Lipstick" остался в корзине

- summary: |
    Проверка поведения системы при попытке оформить заказ с пустой корзиной
  requirement: |
    Система должна предотвращать оформление заказа без товаров
  prerequisites:
    Корзина пуста, открыта главная страница
  test-data: |
    Нет
  steps:
    - Нажать на Cart в шапке страницы
    - Нажать кнопку "Оформить заказ"
  expected-result: |
    Ничего не происходит, кнопка "Оформить заказ" не отображается

- summary: |
    Проверка удаления товара из корзины
  requirement: |
    Пользователь должен иметь возможность удалять товары из корзины
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Товар "Essence Mascara Lash Princess"
  steps:
    - Добавить в корзину товар "Essence Mascara Lash Princess"
    - Открыть корзину
    - Нажать кнопку "Удалить" рядом с товаром
  expected-result: |
    Товар исчезает из корзины, общая сумма обновляется

- summary: |
    Проверка появления предупреждения при удалении товара из корзины
  requirement: |
    При удалении товара из корзины пользователь должен получить предупреждение об удалении
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Товар "Essence Mascara Lash Princess"
  steps:
    - Добавить в корзину товар "Essence Mascara Lash Princess"
    - Открыть корзину
    - Нажать кнопку "Удалить" рядом с товаром
  expected-result: |
    Появляется окно с предупреждением с текстом "Вы точно уверены, что хотите удалить данный товар?" и кнопками "Удалить" и "Отмена"

- summary: |
    Проверка уведомления при удалении товара из корзины
  requirement: |
    Если товар удален из корзины, пользователь должен получить уведомление
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Товар "Essence Mascara Lash Princess"
  steps:
    - Добавить в корзину товар "Essence Mascara Lash Princess"
    - Открыть корзину
    - Удалить товар из корзины
  expected-result: |
    Появляется уведомление «Товар удален из корзины»

- summary: |
    Проверка видимости товаров в каталоге
  requirement: |
    Пользователь должен видеть список товаров в каталоге, даже если товаров нет
  prerequisites:
    Открыта главная страница
  test-data: |
    Нет
  steps:
    - Прокрутить страницу вниз
  expected-result: |
    - Если товары есть — отображается весь список товаров
    - Если товаров нет — отображается сообщение "Нет товаров" или аналогичное, либо пустой список без ошибок

- summary: |
    Проверка фильтрации товаров по диапазону цен
  requirement: |
    Пользователь должен иметь возможность фильтровать товары по диапазону цен
  prerequisites:
    Открыта главная страница
  test-data: |
    Диапазон цен = "0 - 6577.499"
  steps:
    - Установить минимальную цену = 0
    - Установить максимальную цену = 6577.499
  expected-result: |
    Отображаются только товары с ценой от 0 до 6577.499 включительно

- summary: |
    Проверка фильтрации товаров только по минимальной цене
  requirement: |
    Пользователь должен иметь возможность фильтровать товары по минимальной цене
  prerequisites:
    Открыта страница категории "beauty"
  test-data: |
    Минимальная цена = 1000
  steps:
    - Установить минимальную цену = 1000
    - Оставить поле максимальной цены пустым
  expected-result: |
    Отображаются только товары с ценой от 1000 и выше

- summary: |
    Проверка фильтрации товаров только по максимальной цене
  requirement: |
    Пользователь должен иметь возможность фильтровать товары по максимальной цене
  prerequisites:
    Открыта страница категории "beauty"
  test-data: |
    Максимальная цена = 2000
  steps:
    - Установить максимальную цену = 2000
    - Оставить поле минимальной цены пустым
  expected-result: |
    Отображаются только товары с ценой до 2000 включительно

- summary: |
    Проверка одновременной фильтрации товаров по диапазону цен и бренду
  requirement: |
    Пользователь должен иметь возможность применять несколько фильтров одновременно
  prerequisites:
    Открыта страница категории "beauty"
  test-data: |
    Диапазон цен = "10 - 20"
    Бренд "Velvet Touch"
  steps:
    - Установить минимальную цену = 10
    - Установить максимальную цену = 20
    - В списке брендов выбрать "Velvet Touch"
  expected-result: |
    Отображаются только товары бренда "Velvet Touch" с ценой от 10 до 20

- summary: |
    Проверка фильтрации товаров по категории и дополнительным фильтрам (цена, наличие, бренд)
  requirement: |
    Пользователь должен иметь возможность фильтровать товары по категории, а также в сочетании с другими фильтрами (ценой, наличием, брендом)
  prerequisites:
    Открыта главная страница
  test-data: |
    - Категория: furniture  
    - Цена: от 1000 до 5000  
    - Наличие: в наличии  
    - Бренд: Annibale Colombo
  steps:
    - В фильтре выбрать категорию "furniture"
    - (Опционально) Установить фильтр по цене: от 1000 до 5000
    - (Опционально) Установить фильтр по наличию: "В наличии"
    - (Опционально) Отметить бренд "Annibale Colombo"
    - Дождаться обновления списка товаров
  expected-result: |
    - В списке отображаются только те товары, которые соответствуют выбранной категории "furniture"  
    - Если были применены дополнительные фильтры (цена, наличие, бренд), отображаются только товары, удовлетворяющие всем выбранным условиям  
    - Товары других категорий, ценовых диапазонов, брендов и отсутствующие на складе не отображаются

- summary: |
    Проверка сохранения фильтров при возврате на страницу категории
  requirement: |
    Фильтры должны сохраняться при возврате на страницу категории
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Карточка товара из отфильтрованного списка
  steps:
    - Установить фильтр цены 10-20$
    - Перейти в карточку любого товара
    - Вернуться назад
  expected-result: |
    Фильтры остались примененными

- summary: |
    Проверка отображения полной информации о товаре
  requirement: |
    Пользователь должен иметь возможность просматривать подробную информацию о товаре
  prerequisites:
    Открыта страница категории "furniture"
  test-data: |
    Нет
  steps:
    - Нажать на первый товар в списке
  expected-result: |
    Открывается страница товара с описанием, ценой, характеристиками и кнопкой "Добавить в корзину"

- summary: |
    Проверка исправления опечаток в поисковом запросе
  requirement: |
    Поиск должен учитывать опечатки и предлагать исправления
  prerequisites: |
    Открыта главная страница интернет-магазина
  test-data: |
    Ключевое слово = "айфон"
  steps:
    - Ввести "айфон" в поле поиска
  expected-result: |
    Система предлагает исправление "iPhone" и показывает соответствующие товары

- summary: |
    Проверка поиска товаров по существующему ключевому слову
  requirement: |
    Пользователь должен иметь возможность искать товары по ключевому слову
  prerequisites: |
    Открыта главная страница интернет-магазина
  test-data: |
    Ключевое слово: "Apple"
  steps:
    - Ввести "Apple" в поле поиска
  expected-result: |
    Отображаются товары, содержащие слово "Apple" в названии или описании
    
- summary: |
    Проверка отображения сообщения при отсутствии результатов поиска
  requirement: |
    Система должна корректно обрабатывать запросы с несуществующими ключевыми словами
  prerequisites:
    Открыта главная страница интернет-магазина
  test-data: |
    Ключевое слово = "aple"
  steps:
    - Ввести "aple" в поле поиска
  expected-result: |
    Отображается сообщение: "Ничего не найдено!"

- summary: |
    Проверка переключения языка интерфейса
  requirement: |
    Пользователь должен иметь возможность переключить язык интерфейса
  prerequisites:
    Открыта главная страница, язык по умолчанию — English
  test-data: |
    Выбранный язык = Русский
  steps:
    - Нажать на слово Language в шапке сайта
    - Выбрать "Русский"
  expected-result: |
    Интерфейс переключается на русский язык

- summary: |
    Проверка сохранения выбранного языка при переходе между страницами
  requirement: |
    Переключение языка должно сохраняться при переходе между страницами
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Доступные языки: Русский, Английский (по умолчанию)
  steps:
    - Найти переключатель языка
    - Изменить язык на русский
    - Перейти в корзину
    - Проверить, что язык остался русским
  expected-result: |
    Язык остался русским

- summary: |
    Проверка сохранения выбранного языка при обновлении страницы
  requirement: |
    Переключение языка должно сохраняться при обновлении страницы
  prerequisites:
    Язык изменен на Русский
  test-data: |
    Открыта главная страница
  steps:
    - Обновить страницу
  expected-result: |
    Язык остался русским

- summary: |
    Перевод элементов интерфейса на английский/русский
  requirement: |
    Сайт должен иметь полную локализацию на русский и английский языки
  prerequisites:
    Открыта главная страница, выбран русский язык
  test-data: |
    Элементы интерфейса:
    - Кнопка "Корзина" / "Cart"
    - Плейсхолдер поиска: "Поиск" / "Search"
    - Меню категории: "Категория" / "Category"
    - Описание товаров
  steps:
    - Проверить перевод элементов (см. test-data)
  expected-result: |
    Все элементы интерфейса корректно переводятся на выбранный язык

- summary: |
    Проверка перевода системных сообщений об ошибках
  requirement: |
    Все ошибки должны быть локализованы под выбранный язык сайта
  prerequisites:
    Открыта главная страница, выбран язык english
  test-data: |
    Сообщение = "Ничего не найдено!"/"Nothing found!"
  steps:
    - Переключить язык на русский
    - Выполнить поиск несуществующего товара (проверить сообщение)
    - Переключить язык на english
    - Повторить поиск (проверить сообщение)
  expected-result: |
    Сообщения об ошибках отображаются на выбранном языке

- summary: |
    Проверка отсутствия пустых полей в фильтре "Бренд"
  requirement: |
    Все поля выбора бренда должны быть подписаны
  prerequisites:
    Открыта главная страница
  test-data: |
    Нет
  steps:
    - Проверить все подписи в фильтре бренд
  expected-result: |
    Все бренды подписаны

- summary: |
    Проверка работы фильтра "В наличии"
  requirement: |
    При отключении фильтра "В наличии" пользователь должен видеть товары, которых нет на складе
  prerequisites:
    Открыта главная страница
  test-data: |
    Нет
  steps:
    - Убрать галку в фильтре "В наличии"
  expected-result: |
    Отображается список товаров, которых нет в наличии (цифра на карточке товара, отображающее количество товара на складе, равна 0)

- summary: |
    Проверка защиты от XSS-инъекций в поле поиска
  requirement: |
    Все формы должны быть защищены от XSS-атак
  prerequisites:
    Открыта главная страница
  test-data: |
    Ввод <script>alert("XSS")</script> в поиск
  steps:
    - Ввести <script>alert("XSS")</script> в поиск
  expected-result: |
    Скрипт не выполняется, поиск работает корректно

- summary: |
    Проверка времени загрузки главной страницы
  requirement: |
    Страницы должны загружаться не дольше 3 секунд
  prerequisites:
    Очищен кеш браузера, скорость интернета ≥ 10 Мбит/с
  test-data: |
    Открытие главной страницы
  steps:
    - Замерить время загрузки страницы с помощью вкладки Network в DevTools
  expected-result: |
    Время загрузки ≤ 3 секунд

- summary: |
    Проверка обработки некорректных значений в фильтре цены
  requirement: |
    Система должна корректно обрабатывать невалидные данные в фильтрах
  prerequisites:
    Открыта главная страница
  test-data: |
    Минимальная цена = "-8"
    Максимальная цена = "текст"
  steps:
    - Ввести "-8" в первое поле цены
    - Ввести "текст" во второе поле цены
  expected-result: |
    Отображается сообщение: "Укажите корректный диапазон цен" или поле не даёт ввести недопустимые символы

- summary: |
    Проверка использования HTTPS на всех страницах
  requirement: |
    Сайт должен использовать HTTPS
  prerequisites:
    Открыта любая страница сайта
  test-data: |
    Нет
  steps:
    - Проверить, что в URL используется HTTPS и сертификат валиден
  expected-result: |
    Используется HTTPS, сертификат валиден

- summary: |
    Проверить отображение сайта в Chrome, Firefox, Edge
  requirement: |
    Сайт должен работать в последних версиях браузеров
  prerequisites:
    Установлены актуальные браузеры
  test-data: |
    Нет
  steps:
    - Открыть сайт в каждом браузере
    - Проверить основные функции (поиск, корзина)
  expected-result: |
    Все функции работают корректно

- summary: |
    Проверка адаптации под мобильные устройства
  requirement: |
    Сайт должен иметь мобильную версию
  prerequisites:
    Открыт сайт
  test-data: |
    Нет
  steps:
    - Открыть DevTools (F12)
    - Выбрать функцию Toggle device doolbar
    - Проверить корректность отображения шапки, карточек товаров и футера на устройствах с разрешением 375x667 (iPhone 6/7/8)
  expected-result: |
    Контент подстраивается под экран

- summary: |
    Проверка отображения дружелюбного сообщения при высокой нагрузке
  requirement: |
    При высокой нагрузке вместо ошибки 500/503 должна отображаться «очередь» или другое дружелюбное сообщение
  prerequisites:
    Сервер настроен на имитацию высокой нагрузки
  test-data: |
    Главная страница магазина
  steps:
    - Открыть главную страницу при искусственно созданной высокой нагрузке
  expected-result: |
    Отображается сообщение «Пожалуйста, подождите, вы в очереди» или аналогичное

- summary: |
    Проверка формата и ленивой загрузки изображений товаров
  requirement: |
    Изображения товаров должны быть оптимизированы (ленивая загрузка, WebP-формат)
  prerequisites:
    Открыта страница товара с несколькими изображениями
  test-data: |
    Товар с галереей изображений
  steps:
    - Проверить формат изображений в DevTools (вкладка Network)
    - Прокрутить страницу вниз, чтобы проверить ленивую загрузку
  expected-result: |
    - Изображения в формате WebP
    - Изображения загружаются только при попадании в область видимости

- summary: |
    Проверка возврата товара в доступный остаток при отмене заказа
  requirement: |
    При отмене заказа товары должны возвращаться в доступный остаток
  prerequisites:
    В корзину добавлен товар "Apple"
  test-data: |
    Товар "Apple"
  steps:
    - Удалить товар из корзины
    - Вернуться на главную страницу магазина
    - Проверить остаток товара "Apple"
  expected-result: |
    Остаток увеличен на количество отмененного товара

- summary: |
    Проверка отображения валюты в соответствии с регионом
  requirement: |
    Валюты должны автоматически подстраиваться под регион
  prerequisites:
    Пользователь из Германии
  test-data: |
    Товар с ценой $10.65
  steps:
    - Проверить отображение цены в карточках товаров на главной странице
  expected-result: |
    - Цена в карточке товара отображается в евро (€)

- summary: |
    Проверка отображения уведомления о закончившемся заказе
  requirement: |
    Появляется уведомление при попытке заказать больше товара, чем есть в наличии
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Товар = "Dolce Shine Eau de", в наличии на складе = 4
  steps:
    - Открыть карточку товара "Dolce Shine Eau de"
    - Нажать кнопку "Добавить в корзину" 5 раз
  expected-result: |
    Появляется уведомление "Товар закончился"

- summary: |
    Проверка функциональности просмотра дополнительных изображений товара в карточке
  requirement: |
    Пользователь должен иметь возможность просматривать все изображения товара, с возможностью выбора фото для основного отображения
  prerequisites:
    Открыта главная страница магазина
  test-data: |
    Товар = "Chanel Coco Noir Eau De", количество изображений товара = 2
  steps:
    - Открыть карточку товара "Chanel Coco Noir Eau De"
    - Запомнить текущее основное изображение  
    - Кликнуть на второе дополнительное изображение  
    - Проверить изменение основного изображения 
  expected-result: |
    Основное изображение плавно меняется на выбранное
